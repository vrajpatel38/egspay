<?xml version="1.0" encoding="UTF-8"?>
<modification>
<id>E Wallet</id>
<version>1.0.0.0</version>
<author>Hitinfotech.com</author>
<file name="admin/controller/common/column_left.php">
	<operation error="log">
		<search position="before"><![CDATA[$customer = array();]]></search>
		<add position="before"><![CDATA[
			//quote_module
			$quote_module = array();
			if ($this->user->hasPermission('access', 'quote/quote_module')) {
				$quote_module[] = array(
					'name'	   => 'Module Setting',
					'href'     => $this->url->link('extension/module/quote_module', 'user_token=' . $this->session->data['user_token'], true),
					'children' => array()
				);
			}
			if ($this->user->hasPermission('access', 'quote/quote_module')) {
				$quote_module[] = array(
					'name'	   => 'Quote List',
					'href'     => $this->url->link('quote/quote_module', 'user_token=' . $this->session->data['user_token'], true),
					'children' => array()
				);
			}
			if ($quote_module) {
				$data['menus'][] = array(
					'id'       => 'menu-customer',
					'icon'	   => 'fa-user',
					'name'	   => "Product Quotation",
					'href'     => '',
					'children' => $quote_module
				);
			}
			//quote_module
		]]></add>
	</operation>
</file>
<file name="admin/controller/catalog/product.php">
	<operation error="log">
		<search position="before"><![CDATA[public function index()]]></search>
		<add position="before"><![CDATA[
		// quote data
		protected function octlversion(){
	    	$varray = explode('.', VERSION);
	    	return (int)implode('', $varray);
		}
		// quote_data
		]]></add>
	</operation>
	<operation error="log">
		<search position="before"><![CDATA[if (isset($this->request->post['weight'])) {]]></search>
		<add position="before"><![CDATA[
            // quote data
            $thisvar = $this->octlversion();
						if($thisvar >= 3000) {
							$module_key = 'module_';
						}else{
						$module_key = '';
						}	
            $this->load->model('quote/quote_module');
            if (isset($this->request->post['quote_status'])) {
                $data['quote_status'] = $this->request->post['quote_status'];
            } elseif (!empty($product_info)) {
                $data['quote_status'] = $product_info['quote_status'];
            } else {
                $data['quote_status'] = true;
            }
            if (isset($this->request->post['quote_value'])) {
                $quote_values = $this->request->post['quote_value'];
            } elseif (isset($this->request->get['product_id'])) {
                $quote_values = $this->model_quote_quote_module->getquoteproductdata($this->request->get['product_id']);
            } else {
                $quote_values = array();
            }

            $data['tab_quote'] = $this->language->get('tab_quote');
            $data['text_quote_option'] = $this->language->get('text_quote_option');
            $data['text_quote_option_name'] = $this->language->get('text_quote_option_name');
            $data['text_quote_option_type'] = $this->language->get('text_quote_option_type');
            $data['text_quote_option_value'] = $this->language->get('text_quote_option_value');

            $data['quote_values'] = array();
            foreach ($quote_values as $quote_value) {
                $data['quote_values'][] = array(
                    'quote_option_id' => $quote_value['quote_option_id'],
                    'quote_name' => $quote_value['quote_name'],
                    'type' => $quote_value['type'],
                    'value' => $quote_value['value'],
                );
            }
            $data['quote_setting'] = $this->config->get($module_key.'quote_module_status');
            // end quote data
		]]></add>
	</operation>
	<operation error="log">
		<search position="after"><![CDATA[$data['products'][] = array(]]></search>
		<add position="after"><![CDATA[
		// quote data
		'quote_status'     => $result['quote_status'] ? $this->language->get('text_enabled') : $this->language->get('text_disabled'),
		]]></add>
	</operation>
</file>
<file name="admin/language/*/catalog/product.php">
	<operation error="log">
		<search position="after"><![CDATA[<?php]]></search>
		<add position="after"><![CDATA[
		// quote data
		$_['tab_quote'] = 'Quote';
		$_['text_quote_option'] = 'Quote Option';
		$_['text_quote_option_name'] = "Name";
		$_['text_quote_option_type'] = "Type";
		$_['text_quote_option_value'] = "Value";
		//quote data
		]]></add>
	</operation>
</file>
<file name="admin/model/catalog/product.php">
	<operation error="log">
		<search position="before"><![CDATA[foreach ($data['product_description'] as $language_id => $value) {]]></search>
		<add position="before"><![CDATA[
		//quote data
		$this->db->query("DELETE FROM " . DB_PREFIX . "p_quote_option WHERE product_id = '" .  (int)$product_id . "'");
		if(isset($data['quote_value'])){
			foreach($data['quote_value'] as $quote_value){
				if ($quote_value['quote_option_id']) {
					$this->db->query("INSERT INTO " . DB_PREFIX . "p_quote_option SET quote_option_id = '" . (int)$quote_value['quote_option_id'] . "', product_id = '" . (int)$product_id . "',quote_name = '" . $this->db->escape($quote_value['quote_name']) . "', type = '" . $this->db->escape($quote_value['type']) . "',value = '" . $this->db->escape($quote_value['value']) . "'");
				}else{
					$this->db->query("INSERT INTO " . DB_PREFIX . "p_quote_option SET product_id = '" . (int)$product_id . "',quote_name = '" . $this->db->escape($quote_value['quote_name']) . "', type = '" . $this->db->escape($quote_value['type']) . "',value = '" . $this->db->escape($quote_value['value']) . "'");
				}
			}
		}
		// end quote data
		]]></add>
	</operation>
	<operation error="log">
		<search position="replace"><![CDATA[status = '" . (int)$data['status'] . "',]]></search>
		<add position="replace"><![CDATA[
		status = '" . (int)$data['status'] . "',quote_status = '" . (int)$data['quote_status'] . "',
		]]></add>
	</operation>
</file>
<file name="admin/view/template/catalog/product_form.twig">
	<operation error="log">
		<search position="before"><![CDATA[<li><a href="#tab-design" data-toggle="tab">{{ tab_design }}</a></li>]]></search>
		<add position="before"><![CDATA[
		 {% if quote_setting %}  <li><a href="#tab-quote" data-toggle="tab">{{ tab_quote }}</a></li> {% endif %}
		]]></add>
	</operation>
	<operation error="log">
		<search position="before"><![CDATA[<div class="tab-pane" id="tab-design">]]></search>
		<add position="before"><![CDATA[
		   {% if quote_setting %}
              <div class="tab-pane" id="tab-quote">
                <div class="table-responsive">
                  <table class="table table-bordered table-hover">
                    <thead>
                      <tr>
                        <td class="text-left">{{ entry_status }}</td>
                        <td class="text-left">
                        <select name="quote_status" id="quote_product_status" class="form-control">
                            {% if quote_status %}
                              <option value="1" selected="selected">{{ text_enabled }}</option>
                              <option value="0">{{ text_disabled }}</option>
                            {% else %}
                              <option value="1">{{ text_enabled }}</option>
                              <option value="0" selected="selected">{{ text_disabled }}</option>
                            {% endif %}
                            </select>
                        </td>
                      </tr>
                    </thead>
                  </table>
                </div>
                <div class="form-group" id="quote-div" style="display: none;">
                  <fieldset>
                    <legend>{{ text_quote_option }}</legend>
                    <table id="quote-option-value" class="table table-striped table-bordered table-hover">
                      <thead>
                        <tr>
                          <td class="text-left required">{{ text_quote_option_name }}</td>
                          <td class="text-center">{{ text_quote_option_type }}</td>
                          <td class="text-right">{{ text_quote_option_value }}</td>
                          <td></td>
                        </tr>
                      </thead>
                      <tbody>
                      {% set quote_option_value_row = 0 %}
                      {% for quote_value in quote_values %}
                      <tr id="quote-option-value-row{{ quote_option_value_row }}">
                          <td class="text-center"><input type="hidden" name="quote_value[{{ quote_option_value_row }}][quote_option_id]" value="{{ quote_value.quote_option_id }}" />
                              <input type="text" name="quote_value[{{ quote_option_value_row }}][quote_name]" value="{{ quote_value.quote_name }}" placeholder="{{ text_quote_option_name }}" class="form-control" />
                          </td>
                          <td class="text-left">
                            <select name="quote_value[{{ quote_option_value_row }}][type]" class="form-control" value="" id="input-image{{ quote_option_value_row }}" placeholder="{{ text_quote_option_type }}" name="type" id="input-type" class="form-control">
                               <optgroup label="Choose">
                                {% if quote_value.type == 'select' %}
                                <option value="select" selected="selected">Select</option>
                                {% else %}
                                <option value="select">Select</option>
                                {% endif %}
                                {% if quote_value.type == 'radio' %}
                                <option value="radio" selected="selected">Radio</option>
                                {% else %}
                                <option value="radio">Radio</option>
                                {% endif %}
                                {% if quote_value.type == 'checkbox' %}
                                <option value="checkbox" selected="selected">Checkbox</option>
                                {% else %}
                                <option value="checkbox">Checkbox</option>
                                {% endif %}
                                </optgroup>
                                <optgroup label="Input">
                                {% if quote_value.type == 'number' %}
                                <option value="number" selected="selected">Number</option>
                                {% else %}
                                <option value="number">Number</option>
                                {% endif %}
                                {% if quote_value.type == 'text' %}
                                <option value="text" selected="selected">Text</option>
                                {% else %}
                                <option value="text">Text</option>
                                {% endif %}
                                {% if quote_value.type == 'textarea' %}
                                <option value="textarea" selected="selected">Textarea</option>
                                {% else %}
                                <option value="textarea">Textarea</option>
                                {% endif %}
                                </optgroup>
                                <optgroup label="Date">
                                {% if quote_value.type == 'date' %}
                                <option value="date" selected="selected">Date</option>
                                {% else %}
                                <option value="date">Date</option>
                                {% endif %}
                                {% if quote_value.type == 'time' %}
                                <option value="time" selected="selected">Time</option>
                                {% else %}
                                <option value="time">Time</option>
                                {% endif %}
                                {% if quote_value.type == 'datetime' %}
                                <option value="datetime" selected="selected">Date & Time</option>
                                {% else %}
                                <option value="datetime">Date & Time</option>
                                {% endif %}
                                </optgroup>
                                </select></td>
                          <td class="text-right"><input type="text" placeholder="{{ text_quote_option_value }}" name="quote_value[{{ quote_option_value_row }}][value]" value="{{ quote_value.value }}" class="form-control" /></td>
                          <td class="text-right"><button type="button" onclick="$('#quote-option-value-row{{ quote_option_value_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                      </tr>
                      {% set quote_option_value_row = quote_option_value_row + 1 %}
                      {% endfor %}
                      </tbody>
                      <tfoot>
                        <tr>
                          <td colspan="3"></td>
                          <td class="text-right"><button id="add-row" type="button" data-toggle="tooltip" title="{{ button_option_value_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                        </tr>
                      </tfoot>
                    </table>
                  </fieldset>
                </div>
              </div>
       {% endif %}
       <script type="text/javascript">
					$('#add-row').on('click',function(){
						addQuoteOptionValue();
					});
					$(document).ready(function(){
						var value = $('#quote_product_status').val();
						if(value == 1){
							$('#quote-div').css('display','block');
						}else{
							$('#quote-div').css('display','none');    
						}
						});
						$('#quote_product_status').change(function(){
						var value = $(this).val();
						if(value == 1){
							$('#quote-div').css('display','block');
						}else{
							$('#quote-div').css('display','none');    
						}
					});
						var quote_option_value_row = {{ quote_option_value_row }};
						function addQuoteOptionValue() {
								html  = '<tr id="quote-option-value-row' + quote_option_value_row + '">';
								html += '  <td class="text-left"><input type="hidden" name="quote_value[' + quote_option_value_row + '][quote_option_id]" value="" />';
								html += '<input type="text" name="quote_value[' + quote_option_value_row + '][quote_name]" value="" placeholder="{{ text_quote_option_name }}" class="form-control" />';
								html += '  </td>';
								html += '  <td class="text-center"><select class="form-control" placeholder="{{ text_quote_option_type }}" name="quote_value[' + quote_option_value_row + '][type]" value="" id="input-image' + quote_option_value_row + '">';
								html += ' <optgroup label="Choose">';
								html += ' <option value="select">Select</option>';
								html += ' <option value="radio">Radio</option>';
								html += ' <option value="checkbox" selected="selected">Checkbox</option>';
								html += '</optgroup>';
								html += ' <optgroup label="Input">';
								html += ' <option value="number">Number</option>';
								html += ' <option value="text">Text</option>';
								html += ' <option value="textarea">Textarea</option>';
								html += '</optgroup>';
								html += ' <optgroup label="Date">';
								html += ' <option value="date">Date</option>';
								html += ' <option value="time">Time</option>';
								html += ' <option value="datetime">Date &amp; Time</option></optgroup>';
								html += '</select></td>';
								html += '  <td class="text-right"><input type="text" name="quote_value[' + quote_option_value_row + '][value]" value="" placeholder="{{ text_quote_option_value }}" class="form-control" /></td>';
								html += '  <td class="text-right"><button type="button" onclick="$(\'#quote-option-value-row' + quote_option_value_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
								html += '</tr>';
								$('#quote-option-value tbody').append(html);
								quote_option_value_row++;
							}
			 </script>
		]]></add>
	</operation>
</file>
<file name="admin/view/template/catalog/product_form.tpl">
	<operation error="log">
      <search position="before"><![CDATA[<li><a href="#tab-design" data-toggle="tab"><?php echo $tab_design; ?></a></li>]]></search>
      <add position="before"><![CDATA[
      		<?php  if($quote_setting) { ?><li><a href="#tab-quote" data-toggle="tab"><?php echo $tab_quote; ?></a></li> <?php } ?>
      ]]></add>
  </operation>
  <operation error="log">
      <search position="before"><![CDATA[<div class="tab-pane" id="tab-design">]]></search>
      <add position="before"><![CDATA[
        <?php if ($quote_setting) { ?>
					<div class="tab-pane" id="tab-quote">
					   <div class="table-responsive">
					      <table class="table table-bordered table-hover">
					         <thead>
					            <tr>
					               <td class="text-left"><?php echo $entry_status; ?></td>
					               <td class="text-left">
					                  <select name="quote_status" id="quote_product_status" class="form-control">
					                     <?php if ($quote_status) { ?>
					                     <option value="1" selected="selected"><?php echo $text_enabled; ?></option>
					                     <option value="0"><?php echo $text_disabled; ?></option>
					                     <?php } else { ?>
					                     <option value="1"><?php echo $text_enabled; ?></option>
					                     <option value="0" selected="selected"><?php echo $text_disabled; ?></option>
					                     <?php } ?>
					                  </select>
					               </td>
					            </tr>
					         </thead>
					      </table>
					   </div>
					   <div class="form-group" id="quote-div" style="display: none;">
					      <fieldset>
					         <legend><?php echo $text_quote_option; ?></legend>
					         <table id="quote-option-value" class="table table-striped table-bordered table-hover">
					            <thead>
					               <tr>
					                  <td class="text-left required"><?php echo $text_quote_option_name; ?></td>
					                  <td class="text-center"><?php echo $text_quote_option_type; ?></td>
					                  <td class="text-right"><?php echo $text_quote_option_value; ?></td>
					                  <td></td>
					               </tr>
					            </thead>
					            <tbody>
					               <?php $quote_option_value_row = 0; ?>
					               <?php foreach($quote_values as $key => $quote_value) { ?> 
					               <tr id="quote-option-value-row<?php echo $quote_option_value_row; ?>">
					                  <td class="text-center"><input type="hidden" name="quote_value[<?php echo $quote_option_value_row; ?>][quote_option_id]" value="<?php echo $quote_value['quote_option_id']; ?>" />
					                     <input type="text" name="quote_value[<?php echo $quote_option_value_row; ?>][quote_name]" value="<?php echo $quote_value['quote_name']; ?>" placeholder="<?php echo $text_quote_option_name; ?>" class="form-control" />
					                  </td>
					                  <td class="text-left">
					                     <select name="quote_value[<?php echo $quote_option_value_row; ?>][type]" class="form-control" value="" id="input-image<?php echo $quote_option_value_row; ?>" placeholder="<?php echo $text_quote_option_type; ?>" name="type" id="input-type" class="form-control">
					                        <optgroup label="Choose">
					                           <?php if (($quote_value['type'] == 'select')) { ?>
					                           <option value="select" selected="selected">Select</option>
					                           <?php } else { ?>
					                           <option value="select">Select</option>
					                           <?php } ?>
					                           <?php if (($quote_value['type'] == 'radio')) { ?>
					                           <option value="radio" selected="selected">Radio</option>
					                           <?php } else { ?>
					                           <option value="radio">Radio</option>
					                           <?php } ?>
					                           <?php if (($quote_value['type'] == 'checkbox')) { ?>
					                           <option value="checkbox" selected="selected">Checkbox</option>
					                           <?php } else { ?>
					                           <option value="checkbox">Checkbox</option>
					                           <?php } ?>
					                        </optgroup>
					                        <optgroup label="Input">
					                           <?php if (($quote_value['type'] == 'number')) { ?>
					                           <option value="number" selected="selected">Number</option>
					                           <?php } else { ?>
					                           <option value="number">Number</option>
					                           <?php } ?>
					                           <?php if (($quote_value['type'] == 'text')) { ?>
					                           <option value="text" selected="selected">Text</option>
					                           <?php } else { ?>
					                           <option value="text">Text</option>
					                           <?php } ?>
					                           <?php if (($quote_value['type'] == 'textarea')) { ?>
					                           <option value="textarea" selected="selected">Textarea</option>
					                           <?php } else { ?>
					                           <option value="textarea">Textarea</option>
					                           <?php } ?>
					                        </optgroup>
					                        <optgroup label="Date">
					                           <?php if (($quote_value['type'] == 'date')) { ?>
					                           <option value="date" selected="selected">Date</option>
					                           <?php } else { ?>
					                           <option value="date">Date</option>
					                           <?php } ?>
					                           <?php if (($quote_value['type'] == 'time')) { ?>
					                           <option value="time" selected="selected">Time</option>
					                           <?php } else { ?>
					                           <option value="time">Time</option>
					                           <?php } ?>
					                           <?php if (($quote_value['type'] == 'datetime')) { ?>
					                           <option value="datetime" selected="selected">Date & Time</option>
					                           <?php } else { ?>
					                           <option value="datetime">Date & Time</option>
					                           <?php } ?>
					                        </optgroup>
					                     </select>
					                  </td>
					                  <td class="text-right"><input type="text" placeholder="<?php echo $text_quote_option_value; ?>" name="quote_value[<?php echo $quote_option_value_row; ?>][value]" value="<?php echo $quote_value['value']; ?>" class="form-control" /></td>
					                  <td class="text-right"><button type="button" onclick="$('#quote-option-value-row<?php echo $quote_option_value_row; ?>').remove();" data-toggle="tooltip" title="<?php echo $button_remove; ?>" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
					               </tr>
					               <?php $quote_option_value_row = ($quote_option_value_row + 1); ?>
					               <?php } ?>
					            </tbody>
					            <tfoot>
					               <tr>
					                  <td colspan="3"></td>
					                  <td class="text-right"><button id="add-row" type="button" data-toggle="tooltip" title="<?php echo $button_option_value_add; ?>" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
					               </tr>
					            </tfoot>
					         </table>
					      </fieldset>
					   </div>
					</div>
				<?php } ?>
				<script type="text/javascript">
				   $('#add-row').on('click',function(){
				     addQuoteOptionValue();
				   });
				   $(document).ready(function(){
				   var value = $('#quote_product_status').val();
				   if(value == 1){
				     $('#quote-div').css('display','block');
				   }else{
				     $('#quote-div').css('display','none');    
				   }
				   });
				   $('#quote_product_status').change(function(){
				   var value = $(this).val();
				   if(value == 1){
				     $('#quote-div').css('display','block');
				   }else{
				     $('#quote-div').css('display','none');    
				   }
				   });
				   
				   var quote_option_value_row = <?php echo $quote_option_value_row; ?>;
				   function addQuoteOptionValue() {
				   // console.log(quote_option_value_row);
				   html  = '<tr id="quote-option-value-row' + quote_option_value_row + '">';
				   html += '  <td class="text-left"><input type="hidden" name="quote_value[' + quote_option_value_row + '][quote_option_id]" value="" />';
				   html += '<input type="text" name="quote_value[' + quote_option_value_row + '][quote_name]" value="" placeholder="<?php echo $text_quote_option_name; ?>" class="form-control" />';
				   html += '  </td>';
				   html += '  <td class="text-center"><select class="form-control" placeholder="<?php echo $text_quote_option_type; ?>" name="quote_value[' + quote_option_value_row + '][type]" value="" id="input-image' + quote_option_value_row + '">';
				   html += ' <optgroup label="Choose">';
				   html += ' <option value="select">Select</option>';
				   html += ' <option value="radio">Radio</option>';
				   html += ' <option value="checkbox" selected="selected">Checkbox</option>';
				   html += '</optgroup>';
				   html += ' <optgroup label="Input">';
				   html += ' <option value="number">Number</option>';
				   html += ' <option value="text">Text</option>';
				   html += ' <option value="textarea">Textarea</option>';
				   html += '</optgroup>';
				   html += ' <optgroup label="Date">';
				   html += ' <option value="date">Date</option>';
				   html += ' <option value="time">Time</option>';
				   html += ' <option value="datetime">Date &amp; Time</option></optgroup>';
				   html += '</select></td>';
				   html += '  <td class="text-right"><input type="text" name="quote_value[' + quote_option_value_row + '][value]" value="" placeholder="<?php echo $text_quote_option_value; ?>" class="form-control" /></td>';
				   html += '  <td class="text-right"><button type="button" onclick="$(\'#quote-option-value-row' + quote_option_value_row + '\').remove();" data-toggle="tooltip" title="<?php echo $button_remove; ?>" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
				   html += '</tr>';
				   $('#quote-option-value tbody').append(html);
				   quote_option_value_row++;
				   }
				</script>
      ]]></add>
  </operation>
</file>
<file name="admin/controller/common/menu.php">
	 <operation error="log">
      <search position="before"><![CDATA[$data['home'] = $this->url->link(]]></search>
      <add position="before"><![CDATA[
      	// quote_data
      		$data['text_quote_module']                 = $this->language->get('text_quote_module');
					$data['text_p_quatation']                  = $this->language->get('text_p_quatation');
					$data['text_q_list']                       = $this->language->get('text_q_list');
					$data['module_setting']     = $this->url->link('module/quote_module', 'token=' . $this->session->data['token'], 'SSL');
					$data['quote_module']       = $this->url->link('quote/quote_module', 'token=' . $this->session->data['token'], 'SSL');
				// quote_data
      ]]></add>
  </operation>
</file>
<file name="admin/language/*/common/menu.php">
	 <operation error="log">
      <search position="before"><![CDATA[$_['text_analytics']]]></search>
      <add position="before"><![CDATA[
      	// quote_data
      		$_['text_quote_module']    = 'Module Setting';
					$_['text_p_quatation']     = 'Product Quotation';
					$_['text_q_list']          = 'Quote List';
				// quote_data
      ]]></add>
  </operation>
</file>
<file name="admin/view/template/common/menu.tpl">
	 <operation error="log">
      <search position="before"><![CDATA[<li id="system"><a class="parent">]]></search>
      <add position="before"><![CDATA[
        <li id="menu-quatation"><a class="parent"><i class="fa fa-credit-card"></i> <span><?php echo $text_p_quatation; ?></span></a>
			    <ul>
			      <li><a href ="<?php echo $module_setting; ?>"><?php echo $text_quote_module; ?></a></li>
			      <li><a href ="<?php echo $quote_module; ?>"><?php echo $text_q_list; ?></a></li>
			    </ul>
			  </li>
      ]]></add>
  </operation>
</file>
<file name="catalog/controller/product/product.php">
	<operation error="log">
		<search position="before"><![CDATA[public function index() {]]></search>
		<add position="before"><![CDATA[
			// quote data
				protected function octlversion(){
			    	$varray = explode('.', VERSION);
			    	return (int)implode('', $varray);
				}
		  // quote_data
		]]></add>
	</operation>
	<operation error="log">
		<search position="after"><![CDATA[$data['description'] = html_entity_decode($product_info['description'], ENT_QUOTES, 'UTF-8');]]></search>
		<add position="after"><![CDATA[
			// quote data for the product
			 $thisvar = $this->octlversion();
				if($thisvar >= 3000) {
					$module_key = 'module_';
				}else{
					$module_key = '';
				}	
				if($this->config->get($module_key.'quote_module_status')){
						$this->load->model('catalog/quote_data_page');
						$data['quote_status'] = $product_info['quote_status'] ? $product_info['quote_status'] : '';
						$data['quote_option'] = array();
						$quote_options = $this->model_catalog_quote_data_page->getProductQuoteOptions($this->request->get['product_id']);
						foreach ($quote_options as $quote_option) {
							$data['quote_option_data'][] = array(
								'product_id' => $this->request->get['product_id'],
								'quote_option_id' => $quote_option['quote_option_id'],
								'quote_name' => $quote_option['quote_name'],
								'type' => $quote_option['type'],
								'value' => explode(',',$quote_option['value']),
							);
						}
					$data['button_quote'] = $this->language->get('button_quote');
					$data['text_offer_words'] = $this->language->get('text_offer_words');
					$data['button_option_value_add'] = $this->language->get('button_option_value_add');
					$data['quote_data_page'] = $this->url->link('product/quote_data_page');
					$data['button_remove'] = $this->language->get('button_remove');
			}
			// end quote data for the product
			]]></add>
	</operation>
</file>
<file name="catalog/language/*/product/product.php">
	<operation error="log">
		<search position="after"><![CDATA[<?php]]></search>
		<add position="after"><![CDATA[
		// quote_language
		$_['button_quote']   = 'I would like a quote';
		$_['text_offer_words'] = 'Requesting an offer';
		$_['quote_option_value_row'] = 'Quote Option Row';
		$_['button_option_value_add'] = 'Option Value add';
		// quote language
		]]></add>
	</operation>
</file>
<file name="catalog/model/catalog/product.php">
	<operation error="log">
		<search position="before"><![CDATA[public function getProduct($product_id) {]]></search>
		<add position="before"><![CDATA[
			// quote data
				protected function octlversion(){
			    	$varray = explode('.', VERSION);
			    	return (int)implode('', $varray);
				}
		  // quote_data
		]]></add>
	</operation>
	<operation error="log">
		<search position="before"><![CDATA[return array(]]></search>
		<add position="before"><![CDATA[
			  $thisvar = $this->octlversion();
				if($thisvar >= 3000) {
					$module_key = 'module_';
				}else{
					$module_key = '';
				}	
				if($this->config->get($module_key.'quote_module_status')){
					$quote_status  =  $query->row['quote_status'] ? $query->row['quote_status'] : '';
				}else{
					$quote_status = '';
				}
		]]></add>
	</operation>
	<operation error="log">
		<search position="before"><![CDATA['date_added'       => $query->row['date_added'],]]></search>
		<add position="before"><![CDATA[
			'quote_status'     => $quote_status,
		]]></add>
	</operation>
</file>
<file name="catalog/view/theme/*/template/product/product.twig">
  <operation error="log">
      <search position="replace"><![CDATA[<button type="button" id="button-cart" data-loading-text="{{ text_loading }}" class="btn btn-primary btn-lg btn-block">{{ button_cart }}</button>]]></search>
      <add position="replace"><![CDATA[
      	 	<style>
						.blue-text{
							height: 68px;
							background-color: #007bff;
						}
						.blue-text h2{
							color:#FFF;
						}
						.bootstrap-datetimepicker-widget.dropdown-menu {
							inset: auto!important;
						}
						.datetimepicker {
							z-index:99999 !important;
						}
				  </style>
         <!--  quote data for the product -->
          {% if quote_status %}
          <button type="button" data-toggle="modal" data-target="#modalQuoteProduct" class="btn btn-danger btn-lg btn-block">{{ button_quote }}</button>
          {% else %}
          <button type="button" id="button-cart" data-loading-text="{{ text_loading }}" class="btn btn-primary btn-lg btn-block">{{ button_cart }}</button>
          {% endif %}
         <!-- end quote data for the product -->
      ]]></add>
  </operation>
  <operation error="log">
      <search position="replace"><![CDATA[<a type="button" id="button-cart" data-loading-text="<span class='btn-text'>{{ button_cart }}</span>" class="btn btn-cart" {% if (j3.settings.get(stylePrefix ~ 'CartDisplay') == "icon") and (j3.settings.get(stylePrefix ~ 'CartTooltipStatus')) %} data-toggle="tooltip" data-tooltip-class="pp-cart-tooltip" data-placement="{{ j3.settings.get(stylePrefix ~ 'CartTooltipPosition') }}" title="{{ button_cart }}" {% endif %}><span class="btn-text">{{ button_cart }}</span></a>]]></search>
      <add position="replace"><![CDATA[
         <!--  quote data for the product -->
          {% if quote_status %}
          <button type="button" data-toggle="modal" data-target="#modalQuoteProduct" class="btn btn-danger btn-lg btn-block">{{ button_quote }}</button>
          {% else %}
          <button type="button" id="button-cart" data-loading-text="{{ text_loading }}" class="btn btn-primary btn-lg btn-block">{{ button_cart }}</button>
          {% endif %}
         <!-- end quote data for the product -->
        ]]></add>
  </operation>
  <operation error="log">
      <search position="before"><![CDATA[<script type="text/javascript">]]></search>
      <add position="before"><![CDATA[
      	  <script type="text/javascript">
						var quote_option_value_row = {{ quote_option_value_row + 1 }};
						function addQuoteOptionDataValue(){
							html  = '<tr id="quote-option-value-row' + quote_option_value_row + '">';
							{% for quote_option in quote_option_data %}
							html += ' <input type="hidden" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][name]" value="{{ quote_option.quote_name }}">';
							{% if quote_option.type == 'text' %}
							html += '<td class="text-center">';
							html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" placeholder="{{ quote_option.quote_name }}" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />';
							html += '</td>';
							{% endif %}
							{% if quote_option.type == 'textarea' %}
							html += '<td class="text-center">';
							html += '<textarea name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" placeholder="{{ quote_option.quote_name }}" id="input-option{{ quote_option.quote_option_id }}" class="form-control" /></textarea>';
							html += '</td>';
							{% endif %}
							{% if quote_option.type == 'number' %}
							html += '<td class="text-center">';
							html += '<input type="number" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" placeholder="{{ quote_option.quote_name }}" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />';
							html += '</td>';
							{% endif %}
						{% if quote_option.type == 'select' %}
							html +=  '<td class="text-center">';
							html += '<select name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" id="input-option{{ quote_option.quote_option_id }}" class="form-control">';
							html +=  '<option value="">{{ text_select }}</option>';
							{% for quote_value in quote_option.value %}
							html += '<option value="{{ quote_value }}">{{ quote_value }}</option>';
							{% endfor %}
							html +='</select>';
							html += '</td>';
						{% endif %}
						{% if quote_option.type == 'radio' %}
						html += '<td class="text-center">';
						{% for quote_value in quote_option.value %}
						html += '<input type="radio" name="quote_option_save[' + quote_option_value_row  + '][{{ quote_option.quote_option_id }}][value]" value="" id="input-option{{ quote_option.quote_option_id }}" />{{ quote_value }}';
						{% endfor %}
						html += '</td>';
						{% endif %}
						{% if quote_option.type == 'checkbox' %}
						html += '<td class="text-center">';
						{% for quote_value in quote_option.value %}
						html += '<input type="checkbox" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" id="input-option{{ quote_option.quote_option_id }}" />&nbsp;{{ quote_value }}';
						{% endfor %}
						html +='</td>';
						{% endif %}
						{% if quote_option.type == 'date' %}
						html += '<td class="text-center">';
						html += '<div class="form-group">';
						html += '<div class="input-group date_quote" id="dateaddon">';
						html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" data-date-format="YYYY-MM-DD" id="input-option{{ quote_option.quote_option_id }}" class="form-control " />';
						html += '<span class="input-group-btn">';
						html += '<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>';
						html += '</span></div>';
						html += '</div>';
						html += '</td>';
						{% endif %}
						{% if quote_option.type == 'datetime' %}
						html += '<td class="text-center">';
						html += '<div class="form-group">';
						html += '<div class="input-group datetime" id="datetime1">';
						html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" data-date-format="YYYY-MM-DD HH:mm" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />';
						html += '<span class="input-group-btn">';
						html += '<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>';
						html += '</span></div>';
						html += '</div>';
						html += '</td>';
						{% endif %}
						{% if quote_option.type == 'time' %}
						html += '<td class="text-center">';
						html += '<div class="form-group">';
						html += '<div class="input-group time">';
						html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][{{ quote_option.quote_option_id }}][value]" value="" data-date-format="HH:mm" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />';
						html += '<span class="input-group-btn">';
						html += '<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>';
						html += '</span></div>';
						html += '</div>';
						html += '</td>';
						{% endif %}
						{% endfor %}
						html += '<td><button type="button" onclick="$(\'#quote-option-value-row' + quote_option_value_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
						$('#quote-option-value tbody').append(html);
							quote_option_value_row++;
						$('#modalQuoteProduct').on('shown.bs.modal', function() {
						$('.input-group.datetime').datetimepicker({
							format: "dd/mm/yyyy",
							startDate: "01-01-2015",
							endDate: "01-01-2020",
							todayBtn: "linked",
							autoclose: true,
							todayHighlight: true,
							container: '#modalQuoteProduct modal-body'
						});
						});
						/* $("#dateaddon").delegate("input[type=text].date", "focusin", function(){
							$(this).datetimepicker();
						}); */
						}
						/* $("#dateaddon").delegate("input[type=text].date", "focusin", function(){
							$(this).datetimepicker();
						}); */
						$('#modalQuoteProduct').on('shown.bs.modal', function() {
						$('.input-group.datetime').datetimepicker({
							format: "dd/mm/yyyy",
							startDate: "01-01-2015",
							endDate: "01-01-2020",
							todayBtn: "linked",
							autoclose: true,
							todayHighlight: true,
							container: '#modalQuoteProduct modal-body'
						});
						});

						/* $('.date_quote').datetimepicker({
							language: '{{ datepicker }}',
							pickTime: true
						}); */


						$('#quote_data_save').on('click',function(e){
						e.preventDefault();
						_a = $(this);
						var product_id = '{{ product_id }}';
						var in_quantity = $('#input-quantity').val();
						var quote_data = $('#quote_option_value_form').serialize() + '&product_id=' + product_id + '&in_quantity=' + in_quantity; 
						// console.log(quote_data);
						$.ajax({
							url: 'index.php?route=product/quote_data_page/setQuoteOptionData',
							type: 'post',
							data: quote_data,
							dataType: 'json',
							success: function(json) {
							if (json['error']) {
								$('#quote-option-value thead').html('<div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i>'+json['error']+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
							}
							if (json['success']) {
								location.href = _a.attr('href');
								$('#quote_data_save').attr('disabled','disabled');
							}
							}
						});
						});
						// $('button[id^=\'button-quote-upload  \ ' + quote_option_value_row + ']').on('click', function() {
					</script>
          <!-- quote data design for the product -->
					<div class="modal fade right" id="modalQuoteProduct" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
					aria-hidden="true" data-backdrop="true">
						<div class="modal-dialog modal-side modal-bottom-right modal-notify modal-lg modal-danger" role="document">
							<div class="modal-content">
							<div class="modal-header blue-text">
								<div class="col-md-12">
								<h2 class="modal-title">{{ text_offer_words }}</h2>
								</div>
							</div>
							<div class="modal-body">
								<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
								<div class="row">
									<div class="col-sm-6">
										{% if thumb %}
										<a class="thumbnail" href="{{ popup }}" title="{{ heading_title }}"><img src="{{ thumb }}" title="{{ heading_title }}" alt="{{ heading_title }}" /></a>
										{% endif %}
									</div>
									<div class="col-sm-6">
									<div class="btn-group">
										<button type="button" data-toggle="tooltip" class="btn btn-default" title="{{ button_wishlist }}" onclick="wishlist.add('{{ product_id }}');"><i class="fa fa-heart"></i></button>
										<button type="button" data-toggle="tooltip" class="btn btn-default" title="{{ button_compare }}" onclick="compare.add('{{ product_id }}');"><i class="fa fa-exchange"></i></button>
										</div>
										<h1>{{ heading_title }}</h1>
									</div>
								</div>
								<form id="quote_option_value_form">
									<div class="table-responsive">
									<table id="quote-option-value" class="table table-bordered">
										<thead></thead>
										<tbody>
										{% set quote_option_value_row = 0 %}
										<tr id="quote-option-value-row{{ quote_option_value_row }}">
											{% for quote_option in quote_option_data %}
											<input type="hidden" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][name]" value="{{ quote_option.quote_name }}">
											{% if quote_option.type == 'text' %}
											<td class="text-center">
												<input type="text" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="" placeholder="{{ quote_option.quote_name }}" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />
											</td>
											{% endif %}
											{% if quote_option.type == 'textarea' %}
											<td class="text-center">
												<textarea name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="" placeholder="{{ quote_option.quote_name }}" id="input-option{{ quote_option.quote_option_id }}" class="form-control"></textarea>
											</td>
											{% endif %}
											{% if quote_option.type == 'number' %}
											<td class="text-center">
												<input type="number" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="" placeholder="{{ quote_option.quote_name }}" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />
											</td>
											{% endif %}
											{% if quote_option.type == 'select' %}
											<td class="text-center">
												<select name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" id="input-option{{ quote_option.quote_option_id }}" class="form-control">
												<option value="">{{ text_select }}</option>
												{% for quote_value in quote_option.value %}
												<option value="{{ quote_value }}">{{ quote_value }}</option>
												{% endfor %}
												</select>
											</td>
											{% endif %}
											{% if quote_option.type == 'radio' %}
												<td class="text-center">
													{% for quote_value in quote_option.value %}
													<input type="radio" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="{{ quote_value }}" id="input-option{{ quote_option.quote_option_id }}" />&nbsp;{{ quote_value }}
													{% endfor %}
												</td>
											{% endif %}
											{% if quote_option.type == 'checkbox' %}
												<td class="text-center">
													{% for quote_value in quote_option.value %}
													<input type="checkbox" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="{{ quote_value }}" id="input-option{{ quote_option.quote_option_id }}" />&nbsp;{{ quote_value }}
													{% endfor %}
												</td>
											{% endif %}
											{% if quote_option.type == 'date' %}
												<td class="text-center">
												<div class="form-group">
												<div class="input-group date_quote"  id="dateaddon">
													<input type="text" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="{{ quote_value }}" data-date-format="YYYY-MM-DD" id="input-option{{ quote_option.quote_option_id }}" class="form-control " />
													<span class="input-group-btn">
													<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
													</span></div>
												</div>
												</td>
											{% endif %}
											{% if quote_option.type == 'datetime' %}
												<td class="text-center">
												<div class="form-group">
												<div class="input-group datetime" id="datetime1">
													<input type="text" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="{{ quote_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />
													<span class="input-group-btn">
													<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
													</span></div>
												</div>
											</td>
											{% endif %}
											{% if quote_option.type == 'time' %}
												<td class="text-center">
												<div class="form-group">
													<div class="input-group time">
													<input type="text" name="quote_option_save[{{ quote_option_value_row }}][{{ quote_option.quote_option_id }}][value]" value="{{ quote_value }}" data-date-format="HH:mm" id="input-option{{ quote_option.quote_option_id }}" class="form-control" />
													<span class="input-group-btn">
													<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
													</span></div>
												</div>
												</td>
											{% endif %}
											{% endfor %}
											<td><button type="button" onclick="addQuoteOptionDataValue();" data-toggle="tooltip" title="{{ button_option_value_add }}" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
										</tr>
										</tbody>
										<tfoot>
										</tfoot>
									</table>
									</div>
								</form>
							</div>
							</div>
							<div class="modal-footer flex-center" style="border-top:none;">
								<a href="{{ quote_data_page }}" name="quote_data_save" id="quote_data_save" class="btn btn-danger">Get it now
								<i class="far fa-gem ml-1 white-text"></i>
								</a>
								<a type="button" class="btn btn-outline-danger waves-effect" data-dismiss="modal">No, thanks</a>
							</div>
							</div>
						</div>
					</div>
					<!-- quote data design for the product -->
      ]]></add>
  </operation>
</file>
<file name="catalog/view/theme/*/template/product/product.tpl">
		<operation error="log">
	    <search position="replace"><![CDATA[<button type="button" id="button-cart" data-loading-text="<?php echo $text_loading; ?>" class="btn btn-primary btn-lg btn-block"><?php echo $button_cart; ?></button>]]></search>
	    <add position="replace"><![CDATA[
	 			 			<style>
                .blue-text{
                  height: 68px;
                  background-color: #007bff;
                }
                .blue-text h2{
                  color:#FFF;
                }
                .bootstrap-datetimepicker-widget.dropdown-menu {
                  inset: auto!important;
                }
                .datetimepicker {
                  z-index:99999 !important;
                }
              </style>
             <!--  quote data for the product -->
              <?php if($quote_status) { ?>
              <button type="button" data-toggle="modal" data-target="#modalQuoteProduct" class="btn btn-danger btn-lg btn-block"><?php echo $button_quote; ?></button>
              <?php } else { ?>
              <button type="button" id="button-cart" data-loading-text="<?php echo $text_loading; ?>" class="btn btn-primary btn-lg btn-block"><?php echo $button_cart; ?></button>
              <?php } ?>
	    ]]></add>
	  </operation>
	  <operation error="log">
      <search position="before"><![CDATA[<script type="text/javascript">]]></search>
      <add position="before"><![CDATA[
         <!-- quote data design for the product -->
          <div class="modal fade right" id="modalQuoteProduct" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
          aria-hidden="true" data-backdrop="true">
            <div class="modal-dialog modal-side modal-bottom-right modal-notify modal-lg modal-danger" role="document">
              <div class="modal-content">
              <div class="modal-header blue-text">
                <div class="col-md-12">
                <h2 class="modal-title"><?php echo $text_offer_words; ?></h2>
                </div>
              </div>
              <div class="modal-body">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="row">
                  <div class="col-sm-6">
                    <?php if ($thumb) { ?>
                    <a class="thumbnail" href="<?php echo $popup; ?>" title="<?php echo $heading_title; ?>"><img src="<?php echo $thumb; ?>" title="<?php echo $heading_title; ?>" alt="<?php echo $heading_title; ?>" /></a>
                    <?php } ?>
                  </div>
                  <div class="col-sm-6">
                  <div class="btn-group">
                    <button type="button" data-toggle="tooltip" class="btn btn-default" title="<?php echo $button_wishlist; ?>" onclick="wishlist.add('<?php echo $product_id; ?>');"><i class="fa fa-heart"></i></button>
                    <button type="button" data-toggle="tooltip" class="btn btn-default" title="<?php echo $button_compare; ?>" onclick="compare.add('<?php echo $product_id; ?>');"><i class="fa fa-exchange"></i></button>
                    </div>
                    <h1><?php echo $heading_title; ?></h1>
                  </div>
                </div>
                <form id="quote_option_value_form">
                  <div class="table-responsive">
                  <table id="quote-option-value" class="table table-bordered">
                    <thead></thead>
                    <tbody>
                    <?php $quote_option_value_row = 0; ?>
                    <tr id="quote-option-value-row<?php echo $quote_option_value_row; ?>">
                      <?php foreach($quote_option_data as $key => $quote_option) { ?> 
                      <input type="hidden" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][name]" value="<?php echo $quote_option['quote_name']; ?>">
                      <?php if (($quote_option['type'] == 'text')) { ?>
                      <td class="text-center">
                        <input type="text" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" placeholder="<?php echo $quote_option['quote_name']; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />
                      </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'textarea')) { ?>
                      <td class="text-center">
                        <textarea name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" placeholder="<?php echo $quote_option['quote_name']; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control"></textarea>
                      </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'number')) { ?>
                      <td class="text-center">
                        <input type="number" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" placeholder="<?php echo $quote_option['quote_name']; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />
                      </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'select')) { ?>
                      <td class="text-center">
                        <select name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control">
                        <option value=""><?php echo $text_select; ?></option>
                        <?php foreach($quote_option['value'] as $key => $quote_value) { ?> 
                        <option value="<?php echo $quote_value; ?>"><?php echo $quote_value; ?></option>
                        <?php } ?>
                        </select>
                      </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'radio')) { ?>
                        <td class="text-center">
                          <?php foreach($quote_option['value'] as $key => $quote_value) { ?> 
                          <input type="radio" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="<?php echo $quote_value; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" />&nbsp;<?php echo $quote_value; ?>
                          <?php } ?>
                        </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'checkbox')) { ?>
                        <td class="text-center">
                          <?php foreach($quote_option['value'] as $key => $quote_value) { ?> 
                          <input type="checkbox" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="<?php echo $quote_value; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" />&nbsp;<?php echo $quote_value; ?>
                          <?php } ?>
                        </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'date')) { ?>
                        <td class="text-center">
                        <div class="form-group">
                        <div class="input-group date_quote"  id="dateaddon">
                          <input type="text" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="<?php echo $quote_value; ?>" data-date-format="YYYY-MM-DD" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control " />
                          <span class="input-group-btn">
                          <button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
                          </span></div>
                        </div>
                        </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'datetime')) { ?>
                        <td class="text-center">
                        <div class="form-group">
                        <div class="input-group datetime" id="datetime1">
                          <input type="text" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="<?php echo $quote_value; ?>" data-date-format="YYYY-MM-DD HH:mm" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />
                          <span class="input-group-btn">
                          <button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
                          </span></div>
                        </div>
                      </td>
                      <?php } ?>
                      <?php if (($quote_option['type'] == 'time')) { ?>
                        <td class="text-center">
                        <div class="form-group">
                          <div class="input-group time">
                          <input type="text" name="quote_option_save[<?php echo $quote_option_value_row; ?>][<?php echo $quote_option['quote_option_id']; ?>][value]" value="<?php echo $quote_value; ?>" data-date-format="HH:mm" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />
                          <span class="input-group-btn">
                          <button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
                          </span></div>
                        </div>
                        </td>
                      <?php } ?>
                      <?php } ?>
                      <td><button type="button" onclick="addQuoteOptionDataValue();" data-toggle="tooltip" title="<?php echo $button_option_value_add; ?>" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                    </tr>
                    </tbody>
                    <tfoot>
                    </tfoot>
                  </table>
                  </div>
                </form>
              </div>
              </div>
              <div class="modal-footer flex-center" style="border-top:none;">
                <a href="<?php echo $quote_data_page; ?>" name="quote_data_save" id="quote_data_save" class="btn btn-danger">Get it now
                <i class="far fa-gem ml-1 white-text"></i>
                </a>
                <a type="button" class="btn btn-outline-danger waves-effect" data-dismiss="modal">No, thanks</a>
              </div>
              </div>
            </div>
          </div>
					        <script type="text/javascript">
					            var quote_option_value_row = <?php echo $quote_option_value_row + 1; ?>;
					            function addQuoteOptionDataValue(){
					              html  = '<tr id="quote-option-value-row' + quote_option_value_row + '">';
					              <?php foreach($quote_option_data as $key => $quote_option) { ?> 
					              html += ' <input type="hidden" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][name]" value="<?php echo $quote_option['quote_name']; ?>">';
					              <?php if (($quote_option['type'] == 'text')) { ?>
					              html += '<td class="text-center">';
					              html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" placeholder="<?php echo $quote_option['quote_name']; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />';
					              html += '</td>';
					              <?php } ?>
					              <?php if (($quote_option['type'] == 'textarea')) { ?>
					              html += '<td class="text-center">';
					              html += '<textarea name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" placeholder="<?php echo $quote_option['quote_name']; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" /></textarea>';
					              html += '</td>';
					              <?php } ?>
					              <?php if (($quote_option['type'] == 'number')) { ?>
					              html += '<td class="text-center">';
					              html += '<input type="number" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" placeholder="<?php echo $quote_option['quote_name']; ?>" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />';
					              html += '</td>';
					              <?php } ?>
					            <?php if (($quote_option['type'] == 'select')) { ?>
					              html +=  '<td class="text-center">';
					              html += '<select name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control">';
					              html +=  '<option value=""><?php echo $text_select; ?></option>';
					              <?php foreach($quote_option['value'] as $key => $quote_value) { ?> 
					              html += '<option value="<?php echo $quote_value; ?>"><?php echo $quote_value; ?></option>';
					              <?php } ?>
					              html +='</select>';
					              html += '</td>';
					            <?php } ?>
					            <?php if (($quote_option['type'] == 'radio')) { ?>
					            html += '<td class="text-center">';
					            <?php foreach($quote_option['value'] as $key => $quote_value) { ?> 
					            html += '<input type="radio" name="quote_option_save[' + quote_option_value_row  + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" id="input-option<?php echo $quote_option['quote_option_id']; ?>" /><?php echo $quote_value; ?>';
					            <?php } ?>
					            html += '</td>';
					            <?php } ?>
					            <?php if (($quote_option['type'] == 'checkbox')) { ?>
					            html += '<td class="text-center">';
					            <?php foreach($quote_option['value'] as $key => $quote_value) { ?> 
					            html += '<input type="checkbox" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" id="input-option<?php echo $quote_option['quote_option_id']; ?>" />&nbsp;<?php echo $quote_value; ?>';
					            <?php } ?>
					            html +='</td>';
					            <?php } ?>
					            <?php if (($quote_option['type'] == 'date')) { ?>
					            html += '<td class="text-center">';
					            html += '<div class="form-group">';
					            html += '<div class="input-group date_quote" id="dateaddon">';
					            html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" data-date-format="YYYY-MM-DD" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control " />';
					            html += '<span class="input-group-btn">';
					            html += '<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>';
					            html += '</span></div>';
					            html += '</div>';
					            html += '</td>';
					            <?php } ?>
					            <?php if (($quote_option['type'] == 'datetime')) { ?>
					            html += '<td class="text-center">';
					            html += '<div class="form-group">';
					            html += '<div class="input-group datetime" id="datetime1">';
					            html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" data-date-format="YYYY-MM-DD HH:mm" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />';
					            html += '<span class="input-group-btn">';
					            html += '<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>';
					            html += '</span></div>';
					            html += '</div>';
					            html += '</td>';
					            <?php } ?>
					            <?php if (($quote_option['type'] == 'time')) { ?>
					            html += '<td class="text-center">';
					            html += '<div class="form-group">';
					            html += '<div class="input-group time">';
					            html += '<input type="text" name="quote_option_save[' + quote_option_value_row + '][<?php echo $quote_option['quote_option_id']; ?>][value]" value="" data-date-format="HH:mm" id="input-option<?php echo $quote_option['quote_option_id']; ?>" class="form-control" />';
					            html += '<span class="input-group-btn">';
					            html += '<button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>';
					            html += '</span></div>';
					            html += '</div>';
					            html += '</td>';
					            <?php } ?>
					            <?php } ?>
					            html += '<td><button type="button" onclick="$(\'#quote-option-value-row' + quote_option_value_row + '\').remove();" data-toggle="tooltip" title="<?php echo $button_remove; ?>" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
					            $('#quote-option-value tbody').append(html);
					            quote_option_value_row++;
					            $('#modalQuoteProduct').on('shown.bs.modal', function() {
					            $('.input-group.datetime').datetimepicker({
					              format: "dd/mm/yyyy",
					              startDate: "01-01-2015",
					              endDate: "01-01-2020",
					              todayBtn: "linked",
					              autoclose: true,
					              todayHighlight: true,
					              container: '#modalQuoteProduct modal-body'
					            });
					            });
					            /* $("#dateaddon").delegate("input[type=text].date", "focusin", function(){
					              $(this).datetimepicker();
					            }); */
					            }
					            /* $("#dateaddon").delegate("input[type=text].date", "focusin", function(){
					              $(this).datetimepicker();
					            }); */
					            $('#modalQuoteProduct').on('shown.bs.modal', function() {
					            $('.input-group.datetime').datetimepicker({
					              format: "dd/mm/yyyy",
					              startDate: "01-01-2015",
					              endDate: "01-01-2020",
					              todayBtn: "linked",
					              autoclose: true,
					              todayHighlight: true,
					              container: '#modalQuoteProduct modal-body'
					            });
					            });

					            /* $('.date_quote').datetimepicker({
					              language: '<?php echo $datepicker; ?>',
					              pickTime: true
					            }); */


					            $('#quote_data_save').on('click',function(e){
					            e.preventDefault();
					            _a = $(this);
					            var product_id = '<?php echo $product_id; ?>';
					            var in_quantity = $('#input-quantity').val();
					            var quote_data = $('#quote_option_value_form').serialize() + '&product_id=' + product_id + '&in_quantity=' + in_quantity; 
					            // console.log(quote_data);
					            $.ajax({
					              url: 'index.php?route=product/quote_data_page/setQuoteOptionData',
					              type: 'post',
					              data: quote_data,
					              dataType: 'json',
					              success: function(json) {
					              if (json['error']) {
					                $('#quote-option-value thead').html('<div class="alert alert-danger alert-dismissible"><i class="fa fa-exclamation-circle"></i>'+json['error']+'<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
					              }
					              if (json['success']) {
					                location.href = _a.attr('href');
					                $('#quote_data_save').attr('disabled','disabled');
					              }
					              }
					            });
					            });
							</script>
          <!-- quote data design for the product -->
        ]]></add>
    </operation>
</file>
<file name="system/library/template/twig.php">
	<operation error="log">
	    <search position="replace"><![CDATA[if (is_file($file)) {]]></search>
	    <add position="replace"><![CDATA[
	    if (defined('DIR_CATALOG') && is_file(DIR_MODIFICATION . 'admin/view/template/' . $filename . '.twig')) {
	        $code = file_get_contents(\VQMod::modCheck(DIR_MODIFICATION . 'admin/view/template/' . $filename . '.twig'));
	    } elseif (is_file(DIR_MODIFICATION . 'catalog/view/theme/' . $filename . '.twig')) {
	        $code = file_get_contents(\VQMod::modCheck(DIR_MODIFICATION . 'catalog/view/theme/' . $filename . '.twig'));
	    } elseif (is_file($file)) {
	    ]]></add>
	</operation>
	<operation error="log">
	    <search position="replace"><![CDATA[$code = file_get_contents($file);]]></search>
	    <add position="replace"><![CDATA[
	    $code = file_get_contents(\VQMod::modCheck($file));
	    ]]></add>
	</operation>
	<operation error="log">
	    <search position="before"><![CDATA[$loader = new \Twig\Loader\ArrayLoader(array($filename . '.twig' => $code));]]></search>
	    <add position="before"><![CDATA[
	        if (VERSION === '3.0.3.5' || VERSION === '3.0.3.6') {
	            $loader_array = new \Twig_Loader_Array(array($filename . '.twig' => $code));
	            $loader_filesystem = new \Twig_Loader_Filesystem(DIR_TEMPLATE);
	            $loader = new \Twig\Loader\ChainLoader(array($loader_array, $loader_filesystem));
	        } else
	    ]]></add>
	</operation>
</file>
</modification>
